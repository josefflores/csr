<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>CSR: api Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CSR
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classapi-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">api Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">__construct</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>The API constructor</p>
<p>$apiObj = new api( $A ) ;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$A</td><td>The global configuration, needed for file path information </td></tr>
  </table>
  </dd>
</dl>
</div></td></tr>
<tr class="memitem:a644214ee6bfb91a6322793ba385df849"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a644214ee6bfb91a6322793ba385df849"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__construct</b> ($A)</td></tr>
<tr class="separator:a644214ee6bfb91a6322793ba385df849"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">setReturn</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function generates the return messages for the api</p>
<p>$apiObj-&gt;setReturn( '200' ) ;</p>
<p>$apiObj-&gt;setReturn( '200' , array( val1 [ , ... ] ) ) ;</p>
<p>$apiObj-&gt;setReturn( '200' , array( val1 [ , ... ] ) , array( 'content' [ , ... ] ) ;</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$num</td><td>The response code </td></tr>
    <tr><td class="paramname">$val</td><td>Any return messages </td></tr>
    <tr><td class="paramname">$ret</td><td>Any return values</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the return message array </dd></dl>
</div></td></tr>
<tr class="memitem:a00f31283557519beb82e8319a67b3c0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00f31283557519beb82e8319a67b3c0f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>setReturn</b> ($num, $val=null, $ret=null)</td></tr>
<tr class="separator:a00f31283557519beb82e8319a67b3c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">getMethodList</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function generates a list of all the available API methods</p>
<p>JSON=[ { "order": 1, "call": "getMethodList", "parameter": [ { null } ] } ]</p>
<dl class="section return"><dt>Returns</dt><dd>200 success and a list of available API methods </dd></dl>
</div></td></tr>
<tr class="memitem:a13ca1a0bb0f0e178e2045fefba43ba20"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a13ca1a0bb0f0e178e2045fefba43ba20"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getMethodList</b> ()</td></tr>
<tr class="separator:a13ca1a0bb0f0e178e2045fefba43ba20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">getWidget</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : true</p>
<p>This function generates a success message with the html widget</p>
<p>JSON=[ { "order": 1, "call": "getWidget", "parameter": [ { "widget name" [ , ... ] } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ] The widget name </td></tr>
    <tr><td class="paramname">$parameters[</td><td>1 ] optional widget parameters</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>200 Succes, with widget html </dd>
<dd>
400 Bad Request </dd>
<dd>
401 Unauthorized </dd>
<dd>
404 Resource not found </dd></dl>
</div></td></tr>
<tr class="memitem:a7a3e81a1532e6d776e9431fbdfa731f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7a3e81a1532e6d776e9431fbdfa731f1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>getWidget</b> ($parameters)</td></tr>
<tr class="separator:a7a3e81a1532e6d776e9431fbdfa731f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">storeData</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : true</p>
<p>This function saves data to the application data database, allowing the user to chose which table</p>
<p>JSON=[ { "order": 1, "call": "storeData", "parameter": [ { "TABLE":"table" , "KEYPAIR":[ { "keyname" : "value" } ]</p>
<p>} ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>'TABLE' =&gt; 'tableName' , 'KEYPAIR' =&gt; array( 'keyName' =&gt; 'value' ) ;</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>201 Created </dd>
<dd>
400 Bad request </dd>
<dd>
401 Unauthorized </dd>
<dd>
404 Not Found </dd>
<dd>
500 Server error </dd></dl>
</div></td></tr>
<tr class="memitem:a91724939028a955f898e1dbb0d8078db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91724939028a955f898e1dbb0d8078db"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>storeData</b> ($parameters)</td></tr>
<tr class="separator:a91724939028a955f898e1dbb0d8078db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">registerUser</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function registers a user to the application</p>
<p>JSON=[ { "order": 1, "call": "registerUser", "parameter": [ { "usr_email": "email", "usr_name_first": "john", "usr_name_middle": "fedrick", "usr_name_last": "doe", "usr_phone_country": "1", "usr_phone_area": "234", "usr_phone_number": "5556666", "usr_phone_ext": "4444", "usr_pwd_1": "Password1", "usr_pwd_2": "Password1", "usr_dob": "2007-12-31" } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_email' ] The User email </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_name_first' ] The First Name </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_name_middle' ] Middle Name | Initial | Null </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_name_last' ] Last Name </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_phone_country' ] 1 - 3 digits </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_phone_area' ] 3 digits </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_phone_number' ] 7 digits </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_phone_ext' ] 1 - 4 digits | Null </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_pwd_1' ] Password String </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_pwd_2' ] Password String Copy for verification </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_dob' ] YYYY-MM-DD</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>204 Success </dd>
<dd>
400 Bad request </dd>
<dd>
500 Failure </dd></dl>
</div></td></tr>
<tr class="memitem:abdc365338ed664d2dd3074aea0321eb2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abdc365338ed664d2dd3074aea0321eb2"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>registerUser</b> ($parameters)</td></tr>
<tr class="separator:abdc365338ed664d2dd3074aea0321eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">authenticateUser</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function logs a user in to the website</p>
<p>JSON=[ { "order": 1, "call": "authenticateUser", "parameter": [ { "usr_email": "email", "usr_pwd_1": "Password1", } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_email' ] The User email </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'usr_pwd_1' ] Password String</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>204 Success </dd>
<dd>
400 Baad request </dd>
<dd>
500 Failure </dd></dl>
</div></td></tr>
<tr class="memitem:a476ef2de86b65e3ac1ab19be78881254"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a476ef2de86b65e3ac1ab19be78881254"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>authenticateUser</b> ($parameters)</td></tr>
<tr class="separator:a476ef2de86b65e3ac1ab19be78881254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">registerMFA</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function registers an MFA device to the application</p>
<p>JSON=[ { "order": 1, "call": "registerMFA", "parameter": [ { 'USR_PHONE':123456780 , 'USR_EMAIL':'email' , //'USR_PWD':'pwd' } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_PHONE' ] the dievice MAC </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_EMAIL' ] the users email </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_PWD' ] the user password</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>200 Success, data returned is salt and pepper </dd>
<dd>
400 Bad Request </dd>
<dd>
401 Failure </dd></dl>
</div></td></tr>
<tr class="memitem:a2327c6ad35add83f01a64fe4f4568a2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classapi.html#a2327c6ad35add83f01a64fe4f4568a2c">registerMFA</a> ($parameters)</td></tr>
<tr class="separator:a2327c6ad35add83f01a64fe4f4568a2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">activateMFA ;</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function activates an MFA device</p>
<p>JSON=[ { "order": 1, "call": "activateMFA", "parameter": [ { "USR_PHONE": "123456780", "USR_PIN": "123456" } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_PHONE' ] the dievice MAC </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_PIN' ] the emailed pin</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>204 Success </dd>
<dd>
400 Bad request </dd>
<dd>
401 Unauthorized </dd>
<dd>
403 Forbidden </dd></dl>
</div></td></tr>
<tr class="memitem:aba1cbe5a34157477056638bc6a7cba52"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba1cbe5a34157477056638bc6a7cba52"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>activateMFA</b> ($parameters)</td></tr>
<tr class="separator:aba1cbe5a34157477056638bc6a7cba52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">authenticateMFA</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>Requires authentication : false</p>
<p>This function authenticates an MFA device</p>
<p>JSON=[ { "order": 1, "call": "authenticateMFA", "parameter": [ { "USR_PHONE": "123456780", "USR_TOKEN": "ASDFASDFSADGDRSGDFSDFDFSGSDGSDFGDFGSDFGSDFGSDFGSDFGSDFG" } ] } ]</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_PHONE' ] the device MAC </td></tr>
    <tr><td class="paramname">$parameters[</td><td>0 ][ 'USR_TOKEN' ] the device token</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>400 Bad request </dd>
<dd>
204 Succces </dd>
<dd>
401 Not authorized </dd>
<dd>
403 Forbidden </dd></dl>
</div></td></tr>
<tr class="memitem:a5488eec13155b5fb773e43d97eb5085e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5488eec13155b5fb773e43d97eb5085e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>authenticateMFA</b> ($parameters)</td></tr>
<tr class="separator:a5488eec13155b5fb773e43d97eb5085e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd>Jose Flores <a href="#" onclick="location.href='mai'+'lto:'+'jos'+'e.'+'flo'+'re'+'s.1'+'52'+'@gm'+'ai'+'l.c'+'om'; return false;">jose.<span style="display: none;">.nosp@m.</span>flor<span style="display: none;">.nosp@m.</span>es.15<span style="display: none;">.nosp@m.</span>2@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a></dd></dl>
<p>This api needs the library and configuration file to be included before it is. api</p>
<p>This is tha application API, It will be used for all application communications. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2327c6ad35add83f01a64fe4f4568a2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">api::registerMFA </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>$parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>isset( $parameters[ 'USR_PWD' ] ) ) </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>php/api/api.php</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 3 2014 07:01:23 for CSR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
